// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package oci

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource provides the Listener resource in Oracle Cloud Infrastructure Load Balancer service.
//
// Adds a listener to a load balancer.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-oci/sdk/go/oci"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := oci.NewLoadBalancerListener(ctx, "testListener", &oci.LoadBalancerListenerArgs{
// 			DefaultBackendSetName: pulumi.Any(oci_load_balancer_backend_set.Test_backend_set.Name),
// 			LoadBalancerId:        pulumi.Any(oci_load_balancer_load_balancer.Test_load_balancer.Id),
// 			Port:                  pulumi.Any(_var.Listener_port),
// 			Protocol:              pulumi.Any(_var.Listener_protocol),
// 			ConnectionConfiguration: &LoadBalancerListenerConnectionConfigurationArgs{
// 				IdleTimeoutInSeconds:           pulumi.Any(_var.Listener_connection_configuration_idle_timeout_in_seconds),
// 				BackendTcpProxyProtocolVersion: pulumi.Any(_var.Listener_connection_configuration_backend_tcp_proxy_protocol_version),
// 			},
// 			HostnameNames: pulumi.StringArray{
// 				pulumi.Any(oci_load_balancer_hostname.Test_hostname.Name),
// 			},
// 			PathRouteSetName:  pulumi.Any(oci_load_balancer_path_route_set.Test_path_route_set.Name),
// 			RoutingPolicyName: pulumi.Any(oci_load_balancer_load_balancer_routing_policy.Test_load_balancer_routing_policy.Name),
// 			RuleSetNames: pulumi.StringArray{
// 				pulumi.Any(oci_load_balancer_rule_set.Test_rule_set.Name),
// 			},
// 			SslConfiguration: &LoadBalancerListenerSslConfigurationArgs{
// 				CertificateName:       pulumi.Any(oci_load_balancer_certificate.Test_certificate.Name),
// 				CipherSuiteName:       pulumi.Any(_var.Listener_ssl_configuration_cipher_suite_name),
// 				Protocols:             pulumi.Any(_var.Listener_ssl_configuration_protocols),
// 				ServerOrderPreference: pulumi.Any(_var.Listener_ssl_configuration_server_order_preference),
// 				VerifyDepth:           pulumi.Any(_var.Listener_ssl_configuration_verify_depth),
// 				VerifyPeerCertificate: pulumi.Any(_var.Listener_ssl_configuration_verify_peer_certificate),
// 			},
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// Listeners can be imported using the `id`, e.g.
//
// ```sh
//  $ pulumi import oci:index/loadBalancerListener:LoadBalancerListener test_listener "loadBalancers/{loadBalancerId}/listeners/{listenerName}"
// ```
type LoadBalancerListener struct {
	pulumi.CustomResourceState

	// (Updatable) Configuration details for the connection between the client and backend servers.
	ConnectionConfiguration LoadBalancerListenerConnectionConfigurationOutput `pulumi:"connectionConfiguration"`
	// (Updatable) The name of the associated backend set.  Example: `exampleBackendSet`
	DefaultBackendSetName pulumi.StringOutput `pulumi:"defaultBackendSetName"`
	// (Updatable) An array of hostname resource names.
	HostnameNames pulumi.StringArrayOutput `pulumi:"hostnameNames"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the load balancer on which to add a listener.
	LoadBalancerId pulumi.StringOutput `pulumi:"loadBalancerId"`
	// A friendly name for the listener. It must be unique and it cannot be changed. Avoid entering confidential information.  Example: `exampleListener`
	Name pulumi.StringOutput `pulumi:"name"`
	// (Updatable) Deprecated. Please use `routingPolicies` instead.
	PathRouteSetName pulumi.StringOutput `pulumi:"pathRouteSetName"`
	// (Updatable) The communication port for the listener.  Example: `80`
	Port pulumi.IntOutput `pulumi:"port"`
	// (Updatable) The protocol on which the listener accepts connection requests. To get a list of valid protocols, use the [ListProtocols](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/LoadBalancerProtocol/ListProtocols) operation.  Example: `HTTP`
	Protocol pulumi.StringOutput `pulumi:"protocol"`
	// (Updatable) The name of the routing policy applied to this listener's traffic.  Example: `exampleRoutingPolicy`
	RoutingPolicyName pulumi.StringOutput `pulumi:"routingPolicyName"`
	// (Updatable) The names of the [rule sets](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/RuleSet/) to apply to the listener.  Example: ["exampleRuleSet"]
	RuleSetNames pulumi.StringArrayOutput `pulumi:"ruleSetNames"`
	// (Updatable) The load balancer's SSL handling configuration details.
	SslConfiguration LoadBalancerListenerSslConfigurationPtrOutput `pulumi:"sslConfiguration"`
	State            pulumi.StringOutput                           `pulumi:"state"`
}

// NewLoadBalancerListener registers a new resource with the given unique name, arguments, and options.
func NewLoadBalancerListener(ctx *pulumi.Context,
	name string, args *LoadBalancerListenerArgs, opts ...pulumi.ResourceOption) (*LoadBalancerListener, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DefaultBackendSetName == nil {
		return nil, errors.New("invalid value for required argument 'DefaultBackendSetName'")
	}
	if args.LoadBalancerId == nil {
		return nil, errors.New("invalid value for required argument 'LoadBalancerId'")
	}
	if args.Port == nil {
		return nil, errors.New("invalid value for required argument 'Port'")
	}
	if args.Protocol == nil {
		return nil, errors.New("invalid value for required argument 'Protocol'")
	}
	var resource LoadBalancerListener
	err := ctx.RegisterResource("oci:index/loadBalancerListener:LoadBalancerListener", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetLoadBalancerListener gets an existing LoadBalancerListener resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetLoadBalancerListener(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *LoadBalancerListenerState, opts ...pulumi.ResourceOption) (*LoadBalancerListener, error) {
	var resource LoadBalancerListener
	err := ctx.ReadResource("oci:index/loadBalancerListener:LoadBalancerListener", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering LoadBalancerListener resources.
type loadBalancerListenerState struct {
	// (Updatable) Configuration details for the connection between the client and backend servers.
	ConnectionConfiguration *LoadBalancerListenerConnectionConfiguration `pulumi:"connectionConfiguration"`
	// (Updatable) The name of the associated backend set.  Example: `exampleBackendSet`
	DefaultBackendSetName *string `pulumi:"defaultBackendSetName"`
	// (Updatable) An array of hostname resource names.
	HostnameNames []string `pulumi:"hostnameNames"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the load balancer on which to add a listener.
	LoadBalancerId *string `pulumi:"loadBalancerId"`
	// A friendly name for the listener. It must be unique and it cannot be changed. Avoid entering confidential information.  Example: `exampleListener`
	Name *string `pulumi:"name"`
	// (Updatable) Deprecated. Please use `routingPolicies` instead.
	PathRouteSetName *string `pulumi:"pathRouteSetName"`
	// (Updatable) The communication port for the listener.  Example: `80`
	Port *int `pulumi:"port"`
	// (Updatable) The protocol on which the listener accepts connection requests. To get a list of valid protocols, use the [ListProtocols](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/LoadBalancerProtocol/ListProtocols) operation.  Example: `HTTP`
	Protocol *string `pulumi:"protocol"`
	// (Updatable) The name of the routing policy applied to this listener's traffic.  Example: `exampleRoutingPolicy`
	RoutingPolicyName *string `pulumi:"routingPolicyName"`
	// (Updatable) The names of the [rule sets](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/RuleSet/) to apply to the listener.  Example: ["exampleRuleSet"]
	RuleSetNames []string `pulumi:"ruleSetNames"`
	// (Updatable) The load balancer's SSL handling configuration details.
	SslConfiguration *LoadBalancerListenerSslConfiguration `pulumi:"sslConfiguration"`
	State            *string                               `pulumi:"state"`
}

type LoadBalancerListenerState struct {
	// (Updatable) Configuration details for the connection between the client and backend servers.
	ConnectionConfiguration LoadBalancerListenerConnectionConfigurationPtrInput
	// (Updatable) The name of the associated backend set.  Example: `exampleBackendSet`
	DefaultBackendSetName pulumi.StringPtrInput
	// (Updatable) An array of hostname resource names.
	HostnameNames pulumi.StringArrayInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the load balancer on which to add a listener.
	LoadBalancerId pulumi.StringPtrInput
	// A friendly name for the listener. It must be unique and it cannot be changed. Avoid entering confidential information.  Example: `exampleListener`
	Name pulumi.StringPtrInput
	// (Updatable) Deprecated. Please use `routingPolicies` instead.
	PathRouteSetName pulumi.StringPtrInput
	// (Updatable) The communication port for the listener.  Example: `80`
	Port pulumi.IntPtrInput
	// (Updatable) The protocol on which the listener accepts connection requests. To get a list of valid protocols, use the [ListProtocols](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/LoadBalancerProtocol/ListProtocols) operation.  Example: `HTTP`
	Protocol pulumi.StringPtrInput
	// (Updatable) The name of the routing policy applied to this listener's traffic.  Example: `exampleRoutingPolicy`
	RoutingPolicyName pulumi.StringPtrInput
	// (Updatable) The names of the [rule sets](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/RuleSet/) to apply to the listener.  Example: ["exampleRuleSet"]
	RuleSetNames pulumi.StringArrayInput
	// (Updatable) The load balancer's SSL handling configuration details.
	SslConfiguration LoadBalancerListenerSslConfigurationPtrInput
	State            pulumi.StringPtrInput
}

func (LoadBalancerListenerState) ElementType() reflect.Type {
	return reflect.TypeOf((*loadBalancerListenerState)(nil)).Elem()
}

type loadBalancerListenerArgs struct {
	// (Updatable) Configuration details for the connection between the client and backend servers.
	ConnectionConfiguration *LoadBalancerListenerConnectionConfiguration `pulumi:"connectionConfiguration"`
	// (Updatable) The name of the associated backend set.  Example: `exampleBackendSet`
	DefaultBackendSetName string `pulumi:"defaultBackendSetName"`
	// (Updatable) An array of hostname resource names.
	HostnameNames []string `pulumi:"hostnameNames"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the load balancer on which to add a listener.
	LoadBalancerId string `pulumi:"loadBalancerId"`
	// A friendly name for the listener. It must be unique and it cannot be changed. Avoid entering confidential information.  Example: `exampleListener`
	Name *string `pulumi:"name"`
	// (Updatable) Deprecated. Please use `routingPolicies` instead.
	PathRouteSetName *string `pulumi:"pathRouteSetName"`
	// (Updatable) The communication port for the listener.  Example: `80`
	Port int `pulumi:"port"`
	// (Updatable) The protocol on which the listener accepts connection requests. To get a list of valid protocols, use the [ListProtocols](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/LoadBalancerProtocol/ListProtocols) operation.  Example: `HTTP`
	Protocol string `pulumi:"protocol"`
	// (Updatable) The name of the routing policy applied to this listener's traffic.  Example: `exampleRoutingPolicy`
	RoutingPolicyName *string `pulumi:"routingPolicyName"`
	// (Updatable) The names of the [rule sets](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/RuleSet/) to apply to the listener.  Example: ["exampleRuleSet"]
	RuleSetNames []string `pulumi:"ruleSetNames"`
	// (Updatable) The load balancer's SSL handling configuration details.
	SslConfiguration *LoadBalancerListenerSslConfiguration `pulumi:"sslConfiguration"`
}

// The set of arguments for constructing a LoadBalancerListener resource.
type LoadBalancerListenerArgs struct {
	// (Updatable) Configuration details for the connection between the client and backend servers.
	ConnectionConfiguration LoadBalancerListenerConnectionConfigurationPtrInput
	// (Updatable) The name of the associated backend set.  Example: `exampleBackendSet`
	DefaultBackendSetName pulumi.StringInput
	// (Updatable) An array of hostname resource names.
	HostnameNames pulumi.StringArrayInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the load balancer on which to add a listener.
	LoadBalancerId pulumi.StringInput
	// A friendly name for the listener. It must be unique and it cannot be changed. Avoid entering confidential information.  Example: `exampleListener`
	Name pulumi.StringPtrInput
	// (Updatable) Deprecated. Please use `routingPolicies` instead.
	PathRouteSetName pulumi.StringPtrInput
	// (Updatable) The communication port for the listener.  Example: `80`
	Port pulumi.IntInput
	// (Updatable) The protocol on which the listener accepts connection requests. To get a list of valid protocols, use the [ListProtocols](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/LoadBalancerProtocol/ListProtocols) operation.  Example: `HTTP`
	Protocol pulumi.StringInput
	// (Updatable) The name of the routing policy applied to this listener's traffic.  Example: `exampleRoutingPolicy`
	RoutingPolicyName pulumi.StringPtrInput
	// (Updatable) The names of the [rule sets](https://docs.cloud.oracle.com/iaas/api/#/en/loadbalancer/20170115/RuleSet/) to apply to the listener.  Example: ["exampleRuleSet"]
	RuleSetNames pulumi.StringArrayInput
	// (Updatable) The load balancer's SSL handling configuration details.
	SslConfiguration LoadBalancerListenerSslConfigurationPtrInput
}

func (LoadBalancerListenerArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*loadBalancerListenerArgs)(nil)).Elem()
}

type LoadBalancerListenerInput interface {
	pulumi.Input

	ToLoadBalancerListenerOutput() LoadBalancerListenerOutput
	ToLoadBalancerListenerOutputWithContext(ctx context.Context) LoadBalancerListenerOutput
}

func (*LoadBalancerListener) ElementType() reflect.Type {
	return reflect.TypeOf((*LoadBalancerListener)(nil))
}

func (i *LoadBalancerListener) ToLoadBalancerListenerOutput() LoadBalancerListenerOutput {
	return i.ToLoadBalancerListenerOutputWithContext(context.Background())
}

func (i *LoadBalancerListener) ToLoadBalancerListenerOutputWithContext(ctx context.Context) LoadBalancerListenerOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerListenerOutput)
}

func (i *LoadBalancerListener) ToLoadBalancerListenerPtrOutput() LoadBalancerListenerPtrOutput {
	return i.ToLoadBalancerListenerPtrOutputWithContext(context.Background())
}

func (i *LoadBalancerListener) ToLoadBalancerListenerPtrOutputWithContext(ctx context.Context) LoadBalancerListenerPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerListenerPtrOutput)
}

type LoadBalancerListenerPtrInput interface {
	pulumi.Input

	ToLoadBalancerListenerPtrOutput() LoadBalancerListenerPtrOutput
	ToLoadBalancerListenerPtrOutputWithContext(ctx context.Context) LoadBalancerListenerPtrOutput
}

type loadBalancerListenerPtrType LoadBalancerListenerArgs

func (*loadBalancerListenerPtrType) ElementType() reflect.Type {
	return reflect.TypeOf((**LoadBalancerListener)(nil))
}

func (i *loadBalancerListenerPtrType) ToLoadBalancerListenerPtrOutput() LoadBalancerListenerPtrOutput {
	return i.ToLoadBalancerListenerPtrOutputWithContext(context.Background())
}

func (i *loadBalancerListenerPtrType) ToLoadBalancerListenerPtrOutputWithContext(ctx context.Context) LoadBalancerListenerPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerListenerPtrOutput)
}

// LoadBalancerListenerArrayInput is an input type that accepts LoadBalancerListenerArray and LoadBalancerListenerArrayOutput values.
// You can construct a concrete instance of `LoadBalancerListenerArrayInput` via:
//
//          LoadBalancerListenerArray{ LoadBalancerListenerArgs{...} }
type LoadBalancerListenerArrayInput interface {
	pulumi.Input

	ToLoadBalancerListenerArrayOutput() LoadBalancerListenerArrayOutput
	ToLoadBalancerListenerArrayOutputWithContext(context.Context) LoadBalancerListenerArrayOutput
}

type LoadBalancerListenerArray []LoadBalancerListenerInput

func (LoadBalancerListenerArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LoadBalancerListener)(nil)).Elem()
}

func (i LoadBalancerListenerArray) ToLoadBalancerListenerArrayOutput() LoadBalancerListenerArrayOutput {
	return i.ToLoadBalancerListenerArrayOutputWithContext(context.Background())
}

func (i LoadBalancerListenerArray) ToLoadBalancerListenerArrayOutputWithContext(ctx context.Context) LoadBalancerListenerArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerListenerArrayOutput)
}

// LoadBalancerListenerMapInput is an input type that accepts LoadBalancerListenerMap and LoadBalancerListenerMapOutput values.
// You can construct a concrete instance of `LoadBalancerListenerMapInput` via:
//
//          LoadBalancerListenerMap{ "key": LoadBalancerListenerArgs{...} }
type LoadBalancerListenerMapInput interface {
	pulumi.Input

	ToLoadBalancerListenerMapOutput() LoadBalancerListenerMapOutput
	ToLoadBalancerListenerMapOutputWithContext(context.Context) LoadBalancerListenerMapOutput
}

type LoadBalancerListenerMap map[string]LoadBalancerListenerInput

func (LoadBalancerListenerMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LoadBalancerListener)(nil)).Elem()
}

func (i LoadBalancerListenerMap) ToLoadBalancerListenerMapOutput() LoadBalancerListenerMapOutput {
	return i.ToLoadBalancerListenerMapOutputWithContext(context.Background())
}

func (i LoadBalancerListenerMap) ToLoadBalancerListenerMapOutputWithContext(ctx context.Context) LoadBalancerListenerMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LoadBalancerListenerMapOutput)
}

type LoadBalancerListenerOutput struct {
	*pulumi.OutputState
}

func (LoadBalancerListenerOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LoadBalancerListener)(nil))
}

func (o LoadBalancerListenerOutput) ToLoadBalancerListenerOutput() LoadBalancerListenerOutput {
	return o
}

func (o LoadBalancerListenerOutput) ToLoadBalancerListenerOutputWithContext(ctx context.Context) LoadBalancerListenerOutput {
	return o
}

func (o LoadBalancerListenerOutput) ToLoadBalancerListenerPtrOutput() LoadBalancerListenerPtrOutput {
	return o.ToLoadBalancerListenerPtrOutputWithContext(context.Background())
}

func (o LoadBalancerListenerOutput) ToLoadBalancerListenerPtrOutputWithContext(ctx context.Context) LoadBalancerListenerPtrOutput {
	return o.ApplyT(func(v LoadBalancerListener) *LoadBalancerListener {
		return &v
	}).(LoadBalancerListenerPtrOutput)
}

type LoadBalancerListenerPtrOutput struct {
	*pulumi.OutputState
}

func (LoadBalancerListenerPtrOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**LoadBalancerListener)(nil))
}

func (o LoadBalancerListenerPtrOutput) ToLoadBalancerListenerPtrOutput() LoadBalancerListenerPtrOutput {
	return o
}

func (o LoadBalancerListenerPtrOutput) ToLoadBalancerListenerPtrOutputWithContext(ctx context.Context) LoadBalancerListenerPtrOutput {
	return o
}

type LoadBalancerListenerArrayOutput struct{ *pulumi.OutputState }

func (LoadBalancerListenerArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]LoadBalancerListener)(nil))
}

func (o LoadBalancerListenerArrayOutput) ToLoadBalancerListenerArrayOutput() LoadBalancerListenerArrayOutput {
	return o
}

func (o LoadBalancerListenerArrayOutput) ToLoadBalancerListenerArrayOutputWithContext(ctx context.Context) LoadBalancerListenerArrayOutput {
	return o
}

func (o LoadBalancerListenerArrayOutput) Index(i pulumi.IntInput) LoadBalancerListenerOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) LoadBalancerListener {
		return vs[0].([]LoadBalancerListener)[vs[1].(int)]
	}).(LoadBalancerListenerOutput)
}

type LoadBalancerListenerMapOutput struct{ *pulumi.OutputState }

func (LoadBalancerListenerMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]LoadBalancerListener)(nil))
}

func (o LoadBalancerListenerMapOutput) ToLoadBalancerListenerMapOutput() LoadBalancerListenerMapOutput {
	return o
}

func (o LoadBalancerListenerMapOutput) ToLoadBalancerListenerMapOutputWithContext(ctx context.Context) LoadBalancerListenerMapOutput {
	return o
}

func (o LoadBalancerListenerMapOutput) MapIndex(k pulumi.StringInput) LoadBalancerListenerOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) LoadBalancerListener {
		return vs[0].(map[string]LoadBalancerListener)[vs[1].(string)]
	}).(LoadBalancerListenerOutput)
}

func init() {
	pulumi.RegisterOutputType(LoadBalancerListenerOutput{})
	pulumi.RegisterOutputType(LoadBalancerListenerPtrOutput{})
	pulumi.RegisterOutputType(LoadBalancerListenerArrayOutput{})
	pulumi.RegisterOutputType(LoadBalancerListenerMapOutput{})
}
