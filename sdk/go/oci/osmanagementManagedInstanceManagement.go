// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package oci

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource provides the Managed Instance Management in Oracle Cloud Infrastructure OS Management service.
// The resource can be used to attach/detach parent software source, child software sources and managed instance groups from managed instances.
//
// Adds a parent software source to a managed instance. After the software source has been added, then packages from that software source can be installed on the managed instance. Software sources that have this software source as a parent will be able to be added to this managed instance.
// Removes a software source from a managed instance. All child software sources will also be removed from the managed instance. Packages will no longer be able to be installed from these software sources.
//
// Adds a child software source to a managed instance. After the software source has been added, then packages from that software source can be installed on the managed instance.\
// Removes a child software source from a managed instance. Packages will no longer be able to be installed from these software sources.
//
// Adds a Managed Instance to a Managed Instance Group. After the Managed Instance has been added, then operations can be performed on the Managed Instance Group which will then apply to all Managed Instances in the group.
// Removes a Managed Instance from a Managed Instance Group.
//
// **NOTE** The resource on CREATE will detach any already attached parent software source, child software sources, managed instance groups to the managed instance.
// Destroying this resource will not delete any associations.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-oci/sdk/go/oci"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := oci.NewOsmanagementManagedInstanceManagement(ctx, "testManagedInstanceManagement", &oci.OsmanagementManagedInstanceManagementArgs{
// 			ManagedInstanceId: pulumi.Any(oci_osmanagement_managed_instance.Test_managed_instance.Id),
// 			ParentSoftwareSource: &OsmanagementManagedInstanceManagementParentSoftwareSourceArgs{
// 				Id:   pulumi.Any(oci_osmanagement_software_source.Test_parent_software_source.Id),
// 				Name: pulumi.Any(oci_osmanagement_software_source.Test_parent_software_source.Display_name),
// 			},
// 			ManagedInstanceGroups: OsmanagementManagedInstanceManagementManagedInstanceGroupArray{
// 				&OsmanagementManagedInstanceManagementManagedInstanceGroupArgs{
// 					Id:          pulumi.Any(oci_osmanagement_managed_instance_group.Test_managed_instance_group.Id),
// 					DisplayName: pulumi.Any(_var.Managed_instance_group_display_name),
// 				},
// 			},
// 			ChildSoftwareSources: OsmanagementManagedInstanceManagementChildSoftwareSourceArray{
// 				&OsmanagementManagedInstanceManagementChildSoftwareSourceArgs{
// 					Id:   pulumi.Any(oci_osmanagement_software_source.Test_software_source_child.Id),
// 					Name: pulumi.Any(oci_osmanagement_software_source.Test_software_source_child.Display_name),
// 				},
// 			},
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// Import is not supported for this resource.
type OsmanagementManagedInstanceManagement struct {
	pulumi.CustomResourceState

	// (Updatable) list of child Software Sources attached to the Managed Instance
	ChildSoftwareSources OsmanagementManagedInstanceManagementChildSoftwareSourceArrayOutput `pulumi:"childSoftwareSources"`
	// OCID for the Compartment
	CompartmentId pulumi.StringOutput `pulumi:"compartmentId"`
	// Information specified by the user about the managed instance
	Description pulumi.StringOutput `pulumi:"description"`
	// User friendly name
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// Time at which the instance last booted
	LastBoot pulumi.StringOutput `pulumi:"lastBoot"`
	// Time at which the instance last checked in
	LastCheckin pulumi.StringOutput `pulumi:"lastCheckin"`
	// (Updatable) The ids of the managed instance groups of which this instance is a member.
	ManagedInstanceGroups OsmanagementManagedInstanceManagementManagedInstanceGroupArrayOutput `pulumi:"managedInstanceGroups"`
	// OCID for the managed instance
	ManagedInstanceId pulumi.StringOutput `pulumi:"managedInstanceId"`
	// Operating System Kernel Version
	OsKernelVersion pulumi.StringOutput `pulumi:"osKernelVersion"`
	// Operating System Name
	OsName pulumi.StringOutput `pulumi:"osName"`
	// Operating System Version
	OsVersion pulumi.StringOutput `pulumi:"osVersion"`
	// (Updatable) the parent (base) Software Source attached to the Managed Instance
	ParentSoftwareSource OsmanagementManagedInstanceManagementParentSoftwareSourceOutput `pulumi:"parentSoftwareSource"`
	// status of the managed instance.
	Status pulumi.StringOutput `pulumi:"status"`
	// Number of updates available to be installed
	UpdatesAvailable pulumi.IntOutput `pulumi:"updatesAvailable"`
}

// NewOsmanagementManagedInstanceManagement registers a new resource with the given unique name, arguments, and options.
func NewOsmanagementManagedInstanceManagement(ctx *pulumi.Context,
	name string, args *OsmanagementManagedInstanceManagementArgs, opts ...pulumi.ResourceOption) (*OsmanagementManagedInstanceManagement, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ManagedInstanceId == nil {
		return nil, errors.New("invalid value for required argument 'ManagedInstanceId'")
	}
	var resource OsmanagementManagedInstanceManagement
	err := ctx.RegisterResource("oci:index/osmanagementManagedInstanceManagement:OsmanagementManagedInstanceManagement", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetOsmanagementManagedInstanceManagement gets an existing OsmanagementManagedInstanceManagement resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetOsmanagementManagedInstanceManagement(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *OsmanagementManagedInstanceManagementState, opts ...pulumi.ResourceOption) (*OsmanagementManagedInstanceManagement, error) {
	var resource OsmanagementManagedInstanceManagement
	err := ctx.ReadResource("oci:index/osmanagementManagedInstanceManagement:OsmanagementManagedInstanceManagement", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering OsmanagementManagedInstanceManagement resources.
type osmanagementManagedInstanceManagementState struct {
	// (Updatable) list of child Software Sources attached to the Managed Instance
	ChildSoftwareSources []OsmanagementManagedInstanceManagementChildSoftwareSource `pulumi:"childSoftwareSources"`
	// OCID for the Compartment
	CompartmentId *string `pulumi:"compartmentId"`
	// Information specified by the user about the managed instance
	Description *string `pulumi:"description"`
	// User friendly name
	DisplayName *string `pulumi:"displayName"`
	// Time at which the instance last booted
	LastBoot *string `pulumi:"lastBoot"`
	// Time at which the instance last checked in
	LastCheckin *string `pulumi:"lastCheckin"`
	// (Updatable) The ids of the managed instance groups of which this instance is a member.
	ManagedInstanceGroups []OsmanagementManagedInstanceManagementManagedInstanceGroup `pulumi:"managedInstanceGroups"`
	// OCID for the managed instance
	ManagedInstanceId *string `pulumi:"managedInstanceId"`
	// Operating System Kernel Version
	OsKernelVersion *string `pulumi:"osKernelVersion"`
	// Operating System Name
	OsName *string `pulumi:"osName"`
	// Operating System Version
	OsVersion *string `pulumi:"osVersion"`
	// (Updatable) the parent (base) Software Source attached to the Managed Instance
	ParentSoftwareSource *OsmanagementManagedInstanceManagementParentSoftwareSource `pulumi:"parentSoftwareSource"`
	// status of the managed instance.
	Status *string `pulumi:"status"`
	// Number of updates available to be installed
	UpdatesAvailable *int `pulumi:"updatesAvailable"`
}

type OsmanagementManagedInstanceManagementState struct {
	// (Updatable) list of child Software Sources attached to the Managed Instance
	ChildSoftwareSources OsmanagementManagedInstanceManagementChildSoftwareSourceArrayInput
	// OCID for the Compartment
	CompartmentId pulumi.StringPtrInput
	// Information specified by the user about the managed instance
	Description pulumi.StringPtrInput
	// User friendly name
	DisplayName pulumi.StringPtrInput
	// Time at which the instance last booted
	LastBoot pulumi.StringPtrInput
	// Time at which the instance last checked in
	LastCheckin pulumi.StringPtrInput
	// (Updatable) The ids of the managed instance groups of which this instance is a member.
	ManagedInstanceGroups OsmanagementManagedInstanceManagementManagedInstanceGroupArrayInput
	// OCID for the managed instance
	ManagedInstanceId pulumi.StringPtrInput
	// Operating System Kernel Version
	OsKernelVersion pulumi.StringPtrInput
	// Operating System Name
	OsName pulumi.StringPtrInput
	// Operating System Version
	OsVersion pulumi.StringPtrInput
	// (Updatable) the parent (base) Software Source attached to the Managed Instance
	ParentSoftwareSource OsmanagementManagedInstanceManagementParentSoftwareSourcePtrInput
	// status of the managed instance.
	Status pulumi.StringPtrInput
	// Number of updates available to be installed
	UpdatesAvailable pulumi.IntPtrInput
}

func (OsmanagementManagedInstanceManagementState) ElementType() reflect.Type {
	return reflect.TypeOf((*osmanagementManagedInstanceManagementState)(nil)).Elem()
}

type osmanagementManagedInstanceManagementArgs struct {
	// (Updatable) list of child Software Sources attached to the Managed Instance
	ChildSoftwareSources []OsmanagementManagedInstanceManagementChildSoftwareSource `pulumi:"childSoftwareSources"`
	// (Updatable) The ids of the managed instance groups of which this instance is a member.
	ManagedInstanceGroups []OsmanagementManagedInstanceManagementManagedInstanceGroup `pulumi:"managedInstanceGroups"`
	// OCID for the managed instance
	ManagedInstanceId string `pulumi:"managedInstanceId"`
	// (Updatable) the parent (base) Software Source attached to the Managed Instance
	ParentSoftwareSource *OsmanagementManagedInstanceManagementParentSoftwareSource `pulumi:"parentSoftwareSource"`
}

// The set of arguments for constructing a OsmanagementManagedInstanceManagement resource.
type OsmanagementManagedInstanceManagementArgs struct {
	// (Updatable) list of child Software Sources attached to the Managed Instance
	ChildSoftwareSources OsmanagementManagedInstanceManagementChildSoftwareSourceArrayInput
	// (Updatable) The ids of the managed instance groups of which this instance is a member.
	ManagedInstanceGroups OsmanagementManagedInstanceManagementManagedInstanceGroupArrayInput
	// OCID for the managed instance
	ManagedInstanceId pulumi.StringInput
	// (Updatable) the parent (base) Software Source attached to the Managed Instance
	ParentSoftwareSource OsmanagementManagedInstanceManagementParentSoftwareSourcePtrInput
}

func (OsmanagementManagedInstanceManagementArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*osmanagementManagedInstanceManagementArgs)(nil)).Elem()
}

type OsmanagementManagedInstanceManagementInput interface {
	pulumi.Input

	ToOsmanagementManagedInstanceManagementOutput() OsmanagementManagedInstanceManagementOutput
	ToOsmanagementManagedInstanceManagementOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementOutput
}

func (*OsmanagementManagedInstanceManagement) ElementType() reflect.Type {
	return reflect.TypeOf((*OsmanagementManagedInstanceManagement)(nil))
}

func (i *OsmanagementManagedInstanceManagement) ToOsmanagementManagedInstanceManagementOutput() OsmanagementManagedInstanceManagementOutput {
	return i.ToOsmanagementManagedInstanceManagementOutputWithContext(context.Background())
}

func (i *OsmanagementManagedInstanceManagement) ToOsmanagementManagedInstanceManagementOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OsmanagementManagedInstanceManagementOutput)
}

func (i *OsmanagementManagedInstanceManagement) ToOsmanagementManagedInstanceManagementPtrOutput() OsmanagementManagedInstanceManagementPtrOutput {
	return i.ToOsmanagementManagedInstanceManagementPtrOutputWithContext(context.Background())
}

func (i *OsmanagementManagedInstanceManagement) ToOsmanagementManagedInstanceManagementPtrOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OsmanagementManagedInstanceManagementPtrOutput)
}

type OsmanagementManagedInstanceManagementPtrInput interface {
	pulumi.Input

	ToOsmanagementManagedInstanceManagementPtrOutput() OsmanagementManagedInstanceManagementPtrOutput
	ToOsmanagementManagedInstanceManagementPtrOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementPtrOutput
}

type osmanagementManagedInstanceManagementPtrType OsmanagementManagedInstanceManagementArgs

func (*osmanagementManagedInstanceManagementPtrType) ElementType() reflect.Type {
	return reflect.TypeOf((**OsmanagementManagedInstanceManagement)(nil))
}

func (i *osmanagementManagedInstanceManagementPtrType) ToOsmanagementManagedInstanceManagementPtrOutput() OsmanagementManagedInstanceManagementPtrOutput {
	return i.ToOsmanagementManagedInstanceManagementPtrOutputWithContext(context.Background())
}

func (i *osmanagementManagedInstanceManagementPtrType) ToOsmanagementManagedInstanceManagementPtrOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OsmanagementManagedInstanceManagementPtrOutput)
}

// OsmanagementManagedInstanceManagementArrayInput is an input type that accepts OsmanagementManagedInstanceManagementArray and OsmanagementManagedInstanceManagementArrayOutput values.
// You can construct a concrete instance of `OsmanagementManagedInstanceManagementArrayInput` via:
//
//          OsmanagementManagedInstanceManagementArray{ OsmanagementManagedInstanceManagementArgs{...} }
type OsmanagementManagedInstanceManagementArrayInput interface {
	pulumi.Input

	ToOsmanagementManagedInstanceManagementArrayOutput() OsmanagementManagedInstanceManagementArrayOutput
	ToOsmanagementManagedInstanceManagementArrayOutputWithContext(context.Context) OsmanagementManagedInstanceManagementArrayOutput
}

type OsmanagementManagedInstanceManagementArray []OsmanagementManagedInstanceManagementInput

func (OsmanagementManagedInstanceManagementArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*OsmanagementManagedInstanceManagement)(nil)).Elem()
}

func (i OsmanagementManagedInstanceManagementArray) ToOsmanagementManagedInstanceManagementArrayOutput() OsmanagementManagedInstanceManagementArrayOutput {
	return i.ToOsmanagementManagedInstanceManagementArrayOutputWithContext(context.Background())
}

func (i OsmanagementManagedInstanceManagementArray) ToOsmanagementManagedInstanceManagementArrayOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OsmanagementManagedInstanceManagementArrayOutput)
}

// OsmanagementManagedInstanceManagementMapInput is an input type that accepts OsmanagementManagedInstanceManagementMap and OsmanagementManagedInstanceManagementMapOutput values.
// You can construct a concrete instance of `OsmanagementManagedInstanceManagementMapInput` via:
//
//          OsmanagementManagedInstanceManagementMap{ "key": OsmanagementManagedInstanceManagementArgs{...} }
type OsmanagementManagedInstanceManagementMapInput interface {
	pulumi.Input

	ToOsmanagementManagedInstanceManagementMapOutput() OsmanagementManagedInstanceManagementMapOutput
	ToOsmanagementManagedInstanceManagementMapOutputWithContext(context.Context) OsmanagementManagedInstanceManagementMapOutput
}

type OsmanagementManagedInstanceManagementMap map[string]OsmanagementManagedInstanceManagementInput

func (OsmanagementManagedInstanceManagementMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*OsmanagementManagedInstanceManagement)(nil)).Elem()
}

func (i OsmanagementManagedInstanceManagementMap) ToOsmanagementManagedInstanceManagementMapOutput() OsmanagementManagedInstanceManagementMapOutput {
	return i.ToOsmanagementManagedInstanceManagementMapOutputWithContext(context.Background())
}

func (i OsmanagementManagedInstanceManagementMap) ToOsmanagementManagedInstanceManagementMapOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OsmanagementManagedInstanceManagementMapOutput)
}

type OsmanagementManagedInstanceManagementOutput struct {
	*pulumi.OutputState
}

func (OsmanagementManagedInstanceManagementOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*OsmanagementManagedInstanceManagement)(nil))
}

func (o OsmanagementManagedInstanceManagementOutput) ToOsmanagementManagedInstanceManagementOutput() OsmanagementManagedInstanceManagementOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementOutput) ToOsmanagementManagedInstanceManagementOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementOutput) ToOsmanagementManagedInstanceManagementPtrOutput() OsmanagementManagedInstanceManagementPtrOutput {
	return o.ToOsmanagementManagedInstanceManagementPtrOutputWithContext(context.Background())
}

func (o OsmanagementManagedInstanceManagementOutput) ToOsmanagementManagedInstanceManagementPtrOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementPtrOutput {
	return o.ApplyT(func(v OsmanagementManagedInstanceManagement) *OsmanagementManagedInstanceManagement {
		return &v
	}).(OsmanagementManagedInstanceManagementPtrOutput)
}

type OsmanagementManagedInstanceManagementPtrOutput struct {
	*pulumi.OutputState
}

func (OsmanagementManagedInstanceManagementPtrOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**OsmanagementManagedInstanceManagement)(nil))
}

func (o OsmanagementManagedInstanceManagementPtrOutput) ToOsmanagementManagedInstanceManagementPtrOutput() OsmanagementManagedInstanceManagementPtrOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementPtrOutput) ToOsmanagementManagedInstanceManagementPtrOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementPtrOutput {
	return o
}

type OsmanagementManagedInstanceManagementArrayOutput struct{ *pulumi.OutputState }

func (OsmanagementManagedInstanceManagementArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]OsmanagementManagedInstanceManagement)(nil))
}

func (o OsmanagementManagedInstanceManagementArrayOutput) ToOsmanagementManagedInstanceManagementArrayOutput() OsmanagementManagedInstanceManagementArrayOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementArrayOutput) ToOsmanagementManagedInstanceManagementArrayOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementArrayOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementArrayOutput) Index(i pulumi.IntInput) OsmanagementManagedInstanceManagementOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) OsmanagementManagedInstanceManagement {
		return vs[0].([]OsmanagementManagedInstanceManagement)[vs[1].(int)]
	}).(OsmanagementManagedInstanceManagementOutput)
}

type OsmanagementManagedInstanceManagementMapOutput struct{ *pulumi.OutputState }

func (OsmanagementManagedInstanceManagementMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]OsmanagementManagedInstanceManagement)(nil))
}

func (o OsmanagementManagedInstanceManagementMapOutput) ToOsmanagementManagedInstanceManagementMapOutput() OsmanagementManagedInstanceManagementMapOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementMapOutput) ToOsmanagementManagedInstanceManagementMapOutputWithContext(ctx context.Context) OsmanagementManagedInstanceManagementMapOutput {
	return o
}

func (o OsmanagementManagedInstanceManagementMapOutput) MapIndex(k pulumi.StringInput) OsmanagementManagedInstanceManagementOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) OsmanagementManagedInstanceManagement {
		return vs[0].(map[string]OsmanagementManagedInstanceManagement)[vs[1].(string)]
	}).(OsmanagementManagedInstanceManagementOutput)
}

func init() {
	pulumi.RegisterOutputType(OsmanagementManagedInstanceManagementOutput{})
	pulumi.RegisterOutputType(OsmanagementManagedInstanceManagementPtrOutput{})
	pulumi.RegisterOutputType(OsmanagementManagedInstanceManagementArrayOutput{})
	pulumi.RegisterOutputType(OsmanagementManagedInstanceManagementMapOutput{})
}
